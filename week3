# SQL_BASIC 3주차 정규 과제 

📌SQL_BASIC 정규과제는 매주 정해진 분량의 `초보자를 위한 BigQuery(SQL) 입문` 강의를 듣고 간단한 문제를 풀면서 학습하는 것입니다. 이번주는 아래의 **SQL_Basic_3rd_TIL**에 나열된 분량을 수강하고 `학습 목표`에 맞게 공부하시면 됩니다.

**3주차 과제는 문제 풀이를 중심으로**, 강의에서 제시된 예제 문제 중 **7 문제 이상을 선택하여 직접 풀어본 뒤**, 강의 영상의 풀이와 비교해 **틀린 부분, 맞은 부분, 새롭게 배운 개념**을 구체적으로 정리해주세요. (적어도 3문제는 정리해야 합니다.) 완성된 과제는 Gihub에 업로드하고, 링크를 스프레드시트 'SQL' 시트에 입력해 제출해주세요.

**(수행 인증샷은 필수입니다.)** 

## SQL_BASIC_3rd

### 섹션 3. 데이터 탐색 - 조건, 추출, 요약

### 2-6. 연습문제 1~3번

### 2-6. 연습문제 7~9번

### 2-6. 연습문제 10~12번

### 2-6. 연습문제 13~17번

### 2-7. 정리 

### 2-8. 새로운 집계함수



## 섹션 4. 쿼리 잘 작성하기, 쿼리 작성 템플릿 및 오류를 잘 디버깅하기

### 3-1. INTRO

### 3-2. SQL 쿼리 작성하는 흐름

### 3-3. 쿼리 작성 템플릿과 생산성 도구 



## 🏁 강의 수강 (Study Schedule)

| 주차  | 공부 범위              | 완료 여부 |
| ----- | ---------------------- | --------- |
| 1주차 | 섹션 **1-1** ~ **2-2** | ✅         |
| 2주차 | 섹션 **2-3** ~ **2-5** | ✅         |
| 3주차 | 섹션 **2-6** ~ **3-3** | ✅         |
| 4주차 | 섹션 **3-4** ~ **4-4** | 🍽️         |
| 5주차 | 섹션 **4-4** ~ **4-9** | 🍽️         |
| 6주차 | 섹션 **5-1** ~ **5-7** | 🍽️         |
| 7주차 | 섹션 **6-1** ~ **6-6** | 🍽️         |

<br>

<!-- 여기까진 그대로 둬 주세요-->

---

# 1️⃣ 개념정리

## 2-6. 연습문제

~~~
✅ 학습 목표 :
* 연습문제(7문제 이상) 푼 것들 정리하기
~~~

<!-- 새롭게 배운 내용을 자유롭게 정리해주세요.-->
연습문제 1. 포켓몬 중에 type2가 없는 포켓몬의 수를 작성하는 쿼리작성
(힌트) ~가없다 : 컬럼 IS NULL

* 어떤 테이블: pokemon
* 조건: type2 가 없는.. -> NULL= 값이 존재하지 않을 때 , IS 연산자 사용
* 어떤 칼럼: 따로 없음
* 어떻게 집계: COUNT

SELECT
 *
FROM basic.pokemon
WHERE
 type2 IS NULL
(WHERE 절에서 여러 조건을 연결하고 싶은경우는 AND 사용
OR 조건 -> (  ) OR (  ) 

연습문제 2. type2가 없는 포켓몬의 type1과 type1의 포켓몬 수를 알려주는 쿼리를 작성

*테이블: pokemon
*칼럼: type1
*집계: 포켓몬수 -> COUNT
*정렬: 내림차순(DESC)

SELECT
 type1
 count(id) AS pokemon.cnt
FROM basic.pokemon
WHERE
 type2 IS NULL
GROUP BY
 type1
ORDER BY
 pokemon_cnt DESC

연습문제3. type2 상관없이 type1의 포켓몬 수를 알 수 있는 쿼리를 작성

*테이블: pokemon
*조건: type2 상관없이 -> 조건인가 아닌가
*칼럼:  type1
*집계: 포켓몬 수 -> count

SELECT
 type1
 COUNT(id) AS pokemon_cnt
FROM basic.pokemon
GROUP BY

COUNT(DISTINCT id) AS pokemon.cnt -> 고유한 값만 보고싶을 때 사용

연습문제 4. 전설 여부에 따른 포켓몬 수를 알 수 있는 쿼리를 작성

테이블: pokemon
조건: 전설 여부 -> 칼럼으로 처리
칼럼: 전설(is_ legendary)
집계: 포켓몬 수

SELECT
 is_legendary
 COUNT(id) AS pokemon_cnt
FROM basic.pokemon
GROUP BY
 is_legendary

연습문제5 동명이인이 있는 이름은 무엇일까요
*테이블: trainer
*조건: 같은 이름이 2개 이상 ->COUNT(name)
*칼럼: 이름
*집계: COUNT

SELECT
 name
 COUNT(name) AS trainer_cnt
FROM basic.trainer
GROUP BY
 name
HAVING
 trainer_cnt

연습문제6 trainer 테이블에서 "Iris"트레이너의 정보를 알 수 있는 쿼리를 작성

*테이블: trainer
*조건: 트레이너 이름 "Iris"
*칼럼: 정보 -> 모든 칼럼
*집계 : x

SELECT
 *
FROM basic.trainer
WHERE
 name = "Iris"

연습문제 7 trainer 테이블에서 "Iris" "Whitney" "Cynthia" 트레이너의 정보를 알 수 있는 쿼리 작성

*테이블: trainer
*조건: 이름 "Iris" "Whitney" "Cynthia"
*칼럼: x
*집계: x

SELECT
 *
FROM basic.trainer
WHERE
 (name = "Iris")
 OR (name = "Whitney")
 OR (name = "Cynthia")

귀찮다

SELECT
 *
FROM basic.trainer
WHERE
 name IN ("Iris", "Whitney", "Cynthia")

연습문제8 전체 포켓몬 수는 얼마나 되나요?

*테이블: pokemon
*조건: x 
*칼럼: x
*집계: 포켓몬수 ->count

SELECT
 COUNT(id) AS pokemon_cnt
FROM basic.pokemon


연습문제 9  세대별로 포켓몬 수가 얼마나 되는지 알 수 있는 쿼리를 작성
*테이블: pokemon
*조건: 없음
*칼럼: 세대
*집계: 포켓몬 수 -> count

SELECT
 generation
 COUNT(id) AS pokemon_cnt
FROM basic.pokemon
GROUP BY
 generation

연습문제 10 type2가 존재하는 포켓몬의 수는 얼마나 되나요?

*테이블: pokemon
*조건: type2 가 존재하는!
*칼럼: x
*집계: 포켓몬의 수 -> count

SELECT
 COUNT(id) AS pokemon_cnt
FROM basic.pokemon
WHERE
 type2 IS NOT NULL

연습문제 11 type2 가 있는 포켓몬 중에 제일 많은 type1은 무엇인가요

*테이블: pokemon
*조건: type2가 있는
*칼럼: type1
*집계: 제일많은 ->count

SELECT
 type1
 COUNT(id) AS pokemon_cnt
FROM basic.pokemoon
WHERE
 type2 IS NOT NULL
GROUP BY
 type1
ORDER BY
pokemon_cnt DESC
LIMIT 1

연습문제 12 단일타입 포켓몬 중 많은 type1은 무엇인가요

*테이블: pokemon
*조건: 단일타입 -> 하나의 타입만 존재
*칼럼: type1
*집계: COUNT

SELECT
 type1
 COUNT(id) AS pokemon_cnt
FROM basic.pokemon
WHERE
 type2 IS NOT NULL
GROUP BY
 type1
ORDER BY
 pokemon_cnt DESC
LIMIT1


연습문제 13 포켓모의 이름에 "파"가 들어가는 포켓몬은 어떤 포켓몬이 있을까요

*테이블: pokemon
*조건: kor_name에 "파"가 들어가는 포켓몬
*칼럼: 어떤 포켓몬이 있을까요? -> name
*집계: 없음

SELECT
 kor_name
FROM basic.pokemon
WHERE
 name LIKE "파%"  ----> %는 앞뒤 모두 가능

연습문제 14 뱃지가 6개 이상인 트레이너를 몇 명이 있나요?

*테이블 : trainer
*조건: 뱃지가 6개 이상
*칼럼: x
*집계: 트레이너 수(COUNT)

SELECT
 COUNT(id) AS trainer_cnt
FROM basic.trainer
WHERE
 badge_count >= 6

연습문제 15 트레이너가 보유한 포켓몬이 제일 많은 트레이너는 누구인가요

*테이블: trainer_pokemon
*조건: x
*칼럼: trainer_id
*집계: 포켓몬의 수 -> COUNT

SELECT
 trianer_id
 COUNT(trianer_id) AS pokemon_cnt
FROM basic.trianer_pokemon
GROUP BY
 trainer_id

연습문제 16 포켓몬을 많이 풀어준 트레이너는 누구일까요?

*테이블: trainer_pokemon
*조건: status = "Released"
*칼럼: trainer_id
*집계: 많이 풀어준 ->COUNT

SELECT
 trainer_id
 COUNT(pokemon_id) AS pokemon_cnt
FROM basic.trainer_pokemon
WHERE
 status = " Released"
GROUP BY
 trainer_id
ORDER BY
 pokemon_cnt DESC
LIMIT 1
 
연습문제 17 트레이너 별로 풀어준 포켓몬의 비율이 20%가 넘는 포켓몬 트레이너는 누구일까요

*테이블: trainer_pokemon
*조건: 풀어준 포켓몬의 비율이 20%가 넘어야함
*칼럼: trainer_id
*집계: COUNTIF

SELECT
 COUNTIF(status = "Released") AS released_cnt
 COUNT(pokemon_id) AS pokemon_cnt 
 COUNTIF(status = "Released")/COUNT(pokemon_id) As released_ratio
FROM basic.trainer_pokemon
GROUP BY
 trainer_id
HAVING
 released_ratio >= 0.2



## 2-8. 새로운 집계함수

~~~
✅ 학습 목표 :
* SQL 쿼리 구조를 이해할 수 있다. 
* SELECT, FROM, WHERE을 활용하는 방법을 설명할 수 있다. 
~~~

<!-- 새롭게 배운 내용을 자유롭게 정리해주세요.-->
GROUP BY ALL -> 그룹화할 키를 자동화 칼럼명시 안해도됨. GROUP BY 보다 더 간편함



## 3-2. 쿼리를 작성하는 흐름

~~~
✅ 학습 목표 :
* 쿼리를 작성하는 흐름을 설명할 수 있다.
~~~

<!-- 새롭게 배운 내용을 자유롭게 정리해주세요.-->
<쿼리를 작성하는 흐름>

1. 지표고민 - 어떤 문제를 해결하기 위해 데이터가 필요한가?

2. 지표구체화- 추상적이지 않고 구체적인 지표 명시(분자, 분모 표시)

3. 지표탐색- 유사한 문제를 해결한 케이스가 있나 확인해볼것 -> 있다면 해당 쿼리 리뷰

4. 쿼리 작성 - 데이터가 있는 테이블 찾기 (2개 이상의 테이블일 경우 연결 방법을 고민해야함 JOIN)

5. 데이터 정합성 확인- 예상한 결과와 동일한지 확인

6. 쿼리 가독성- 나중을 위해 깔끔하게 쿼리 작성

7. 쿼리 저장- 쿼리는 재사용되므로 문서로 저장



## 3-3. 쿼리 작성 템플릿과 생산성 도구

~~~
✅ 학습 목표 :
* 생산성 도구를 만들 수 있다.
~~~

<!-- 이어질 주차에서 생산성 도구를 활용한 실습이 있습니다.강의에 맞게 제작하여 화면을 캡쳐하여 이 주석을 지우고 올려주세요. -->
![스크린샷](./images/스크린샷 2025-09-22 113031.png)

<br>
<br>

---

# 2️⃣ 학습 인증란

![Inflearn 스크린샷](./images/스크린샷_22-9-2025_113649_www.inflearn.com.jpeg)



---

# 3️⃣ 확인문제

## 문제 1

> **🧚Q. 포켓몬 게임에 재미를 느낀 동혁은 포켓몬 도감에서 강력한 포켓몬 타입을 미리 선점하기 위해, 먼저 어떤 포켓몬들이 있는지 포켓몬 수를 기준으로 내림차순 정렬하여  확인하고자 했습니다.**
>
> 그래서 다음과 같은 필요한 정보를 미리 정리해보았습니다. 

~~~
조건 : type2는 상관없이
보고 싶은 컬럼 : type1
집계 내용 : 각 type1 별 포켓몬 수
정렬 기준 : 포켓몬 수를 기준으로 내림차순 정렬
~~~

> **이 목표를 바탕으로 동혁이 아래와 같은 쿼리를 잘 작성했지만, 일부 SQL 문법 요소를 빼먹었습니다. 비어 있는 부분인 ㄱ,ㄴ,ㄷ 에 들어갈 알맞은 SQL 구문을 채워보세요:**

~~~sql
SELECT type1, (ㄱ)
FROM pokemon
(ㄴ) type1
ORDER BY (ㄱ) (ㄷ);
~~~



~~~
ㄱ: COUNT(*) 

ㄴ: GROUP BY

ㄷ: DESC


~~~



### 🎉 수고하셨습니다.